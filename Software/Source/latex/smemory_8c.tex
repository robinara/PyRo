\hypertarget{smemory_8c}{}\section{packages/scipy-\/0.14.0/scipy/sparse/linalg/dsolve/\+Super\+L\+U/\+S\+R\+C/smemory.c File Reference}
\label{smemory_8c}\index{packages/scipy-\/0.\+14.\+0/scipy/sparse/linalg/dsolve/\+Super\+L\+U/\+S\+R\+C/smemory.\+c@{packages/scipy-\/0.\+14.\+0/scipy/sparse/linalg/dsolve/\+Super\+L\+U/\+S\+R\+C/smemory.\+c}}


Memory details.  


{\ttfamily \#include \char`\"{}slu\+\_\+sdefs.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{smemory_8c_a1ef4d4db4d5e1fe0719416163e0e51ae}{Stack\+Full}(\hyperlink{vecnorm1_8cc_ac73eed9e41ec09d58f112f06c2d6cb63}{x})~( \hyperlink{vecnorm1_8cc_ac73eed9e41ec09d58f112f06c2d6cb63}{x} + Glu-\/$>$stack.\+used $>$= Glu-\/$>$stack.\+size )
\item 
\#define \hyperlink{smemory_8c_ac11b1c3847a3d397e9675de40782134d}{Not\+Double\+Align}(addr)~( (long int)addr \& 7 )
\item 
\#define \hyperlink{smemory_8c_ac8204d321846eb4b23d563eac7e5bfa7}{Double\+Align}(addr)~( ((long int)addr + 7) \& $\sim$7\+L )
\item 
\#define \hyperlink{smemory_8c_a70ca807c578a0c495f7ce5edb0215e2b}{Temp\+Space}(\hyperlink{indexexpr_8h_ab72fdb4031d47b75ab26dd18a437bcdc}{m},  w)
\item 
\#define \hyperlink{smemory_8c_a7b2a35bfd2e6c9d03e2a6ccdba9fa847}{Reduce}(alpha)~((alpha + 1) / 2)  /$\ast$ i.\+e. (alpha-\/1)/2 + 1 $\ast$/
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void $\ast$ \hyperlink{smemory_8c_aa2862f14356be7d9f12bfdfc175137a1}{sexpand} (int $\ast$prev\+\_\+len,\hyperlink{superlu__enum__consts_8h_abd31f838aefffa46191d0d7dc36a96b2}{Mem\+Type} \hyperlink{fftw__dct_8c_a7aead736a07eaf25623ad7bfa1f0ee2d}{type},int len\+\_\+to\+\_\+copy,int keep\+\_\+prev,\hyperlink{structGlobalLU__t}{Global\+L\+U\+\_\+t} $\ast$Glu)
\begin{DoxyCompactList}\small\item\em Expand the existing storage to accommodate more fill-\/ins. \end{DoxyCompactList}\item 
int \hyperlink{smemory_8c_abc603ef3859778fb5631cf3d3b951de6}{s\+L\+U\+Work\+Init} (int \hyperlink{indexexpr_8h_ab72fdb4031d47b75ab26dd18a437bcdc}{m}, int \hyperlink{indexexpr_8h_ab427e2e2b4d6cec55fa088ea2a692ace}{n}, int panel\+\_\+size, int $\ast$$\ast$iworkptr, float $\ast$$\ast$dworkptr, \hyperlink{structGlobalLU__t}{Global\+L\+U\+\_\+t} $\ast$Glu)
\begin{DoxyCompactList}\small\item\em Allocate known working storage. Returns 0 if success, otherwise returns the number of bytes allocated so far when failure occurred. \end{DoxyCompactList}\item 
void \hyperlink{smemory_8c_a00d00daa40d07c16e3ae6bfd87c70e3d}{copy\+\_\+mem\+\_\+float} (int, void $\ast$, void $\ast$)
\item 
void \hyperlink{smemory_8c_aabb6ccd3c62fa5284cd5de4fb4c7f533}{s\+Stack\+Compress} (\hyperlink{structGlobalLU__t}{Global\+L\+U\+\_\+t} $\ast$Glu)
\begin{DoxyCompactList}\small\item\em Compress the work\mbox{[}\mbox{]} array to remove fragmentation. \end{DoxyCompactList}\item 
void \hyperlink{smemory_8c_a146216d4543e94e7ec4783eada50bf4c}{s\+Setup\+Space} (void $\ast$work, int lwork, \hyperlink{structGlobalLU__t}{Global\+L\+U\+\_\+t} $\ast$Glu)
\begin{DoxyCompactList}\small\item\em Setup the memory model to be used for factorization. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{smemory_8c_ad68adc1b6de3f821f9fb24cdcf24d281}{suser\+\_\+malloc} (int, int, \hyperlink{structGlobalLU__t}{Global\+L\+U\+\_\+t} $\ast$)
\item 
void \hyperlink{smemory_8c_a29f7485dd32f85e996e16f2a199b002d}{suser\+\_\+free} (int, int, \hyperlink{structGlobalLU__t}{Global\+L\+U\+\_\+t} $\ast$)
\item 
void \hyperlink{smemory_8c_ab59eea34474da95fb3dc125400a1287e}{copy\+\_\+mem\+\_\+int} (int, void $\ast$, void $\ast$)
\item 
void \hyperlink{smemory_8c_a4c226087c09a94ff40b92b14fa46fc53}{user\+\_\+bcopy} (char $\ast$, char $\ast$, int)
\item 
int \hyperlink{smemory_8c_ace83037d40e06fba28a0b787df4fbece}{s\+Query\+Space} (\hyperlink{structSuperMatrix}{Super\+Matrix} $\ast$L, \hyperlink{structSuperMatrix}{Super\+Matrix} $\ast$U, \hyperlink{structmem__usage__t}{mem\+\_\+usage\+\_\+t} $\ast$mem\+\_\+usage)
\item 
int \hyperlink{smemory_8c_ae057d714a4952330de0572fa2785b068}{ilu\+\_\+s\+Query\+Space} (\hyperlink{structSuperMatrix}{Super\+Matrix} $\ast$L, \hyperlink{structSuperMatrix}{Super\+Matrix} $\ast$U, \hyperlink{structmem__usage__t}{mem\+\_\+usage\+\_\+t} $\ast$mem\+\_\+usage)
\item 
int \hyperlink{smemory_8c_aadb7d9338f2fd9700f84951708cd8064}{s\+L\+U\+Mem\+Init} (\hyperlink{superlu__enum__consts_8h_ac785c8235480e5cfef9848d89c047c0a}{fact\+\_\+t} fact, void $\ast$work, int lwork, int \hyperlink{indexexpr_8h_ab72fdb4031d47b75ab26dd18a437bcdc}{m}, int \hyperlink{indexexpr_8h_ab427e2e2b4d6cec55fa088ea2a692ace}{n}, int annz, int panel\+\_\+size, float fill\+\_\+ratio, \hyperlink{structSuperMatrix}{Super\+Matrix} $\ast$L, \hyperlink{structSuperMatrix}{Super\+Matrix} $\ast$U, \hyperlink{structGlobalLU__t}{Global\+L\+U\+\_\+t} $\ast$Glu, int $\ast$$\ast$iwork, float $\ast$$\ast$dwork)
\begin{DoxyCompactList}\small\item\em Allocate storage for the data structures common to all factor routines. \end{DoxyCompactList}\item 
void \hyperlink{smemory_8c_ada7e5387084d37939efddbcbf6a6eca1}{s\+Set\+R\+Work} (int \hyperlink{indexexpr_8h_ab72fdb4031d47b75ab26dd18a437bcdc}{m}, int panel\+\_\+size, float $\ast$dworkptr, float $\ast$$\ast$dense, float $\ast$$\ast$tempv)
\begin{DoxyCompactList}\small\item\em Set up pointers for real working arrays. \end{DoxyCompactList}\item 
void \hyperlink{smemory_8c_a0e837042fa6f4b27eb2cbfc2f80387fa}{s\+L\+U\+Work\+Free} (int $\ast$iwork, float $\ast$dwork, \hyperlink{structGlobalLU__t}{Global\+L\+U\+\_\+t} $\ast$Glu)
\begin{DoxyCompactList}\small\item\em Free the working storage used by factor routines. \end{DoxyCompactList}\item 
int \hyperlink{smemory_8c_a80077f82e6d512e415519daed9dc3345}{s\+L\+U\+Mem\+Xpand} (int jcol, int next, \hyperlink{superlu__enum__consts_8h_abd31f838aefffa46191d0d7dc36a96b2}{Mem\+Type} mem\+\_\+type, int $\ast$maxlen, \hyperlink{structGlobalLU__t}{Global\+L\+U\+\_\+t} $\ast$Glu)
\begin{DoxyCompactList}\small\item\em Expand the data structures for L and U during the factorization. \end{DoxyCompactList}\item 
void \hyperlink{smemory_8c_a9754e5504550ae4ab763721ebcb7055b}{sallocate\+A} (int \hyperlink{indexexpr_8h_ab427e2e2b4d6cec55fa088ea2a692ace}{n}, int nnz, float $\ast$$\ast$\hyperlink{gen__mat5files_8m_aae328bf20413f220e38aec4d95bfd6da}{a}, int $\ast$$\ast$asub, int $\ast$$\ast$xa)
\begin{DoxyCompactList}\small\item\em Allocate storage for original matrix \hyperlink{classA}{A}. \end{DoxyCompactList}\item 
float $\ast$ \hyperlink{smemory_8c_a4a866452c5dcba66083ef463662955ee}{float\+Malloc} (int \hyperlink{indexexpr_8h_ab427e2e2b4d6cec55fa088ea2a692ace}{n})
\item 
float $\ast$ \hyperlink{smemory_8c_ab6dc7fd90a3d13e0c9a8ca8d62def27f}{float\+Calloc} (int \hyperlink{indexexpr_8h_ab427e2e2b4d6cec55fa088ea2a692ace}{n})
\item 
int \hyperlink{smemory_8c_a658f955c5532813bd0490502efae563f}{smemory\+\_\+usage} (const int nzlmax, const int nzumax, const int nzlumax, const int \hyperlink{indexexpr_8h_ab427e2e2b4d6cec55fa088ea2a692ace}{n})
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Memory details. 


\begin{DoxyPre}
-- SuperLU routine (version 4.0) --
Lawrence Berkeley National Laboratory.
June 30, 2009
\end{DoxyPre}
 

\subsection{Macro Definition Documentation}
\hypertarget{smemory_8c_ac8204d321846eb4b23d563eac7e5bfa7}{}\index{smemory.\+c@{smemory.\+c}!Double\+Align@{Double\+Align}}
\index{Double\+Align@{Double\+Align}!smemory.\+c@{smemory.\+c}}
\subsubsection[{Double\+Align}]{\setlength{\rightskip}{0pt plus 5cm}\#define Double\+Align(
\begin{DoxyParamCaption}
\item[{}]{addr}
\end{DoxyParamCaption}
)~( ((long int)addr + 7) \& $\sim$7\+L )}\label{smemory_8c_ac8204d321846eb4b23d563eac7e5bfa7}
\hypertarget{smemory_8c_ac11b1c3847a3d397e9675de40782134d}{}\index{smemory.\+c@{smemory.\+c}!Not\+Double\+Align@{Not\+Double\+Align}}
\index{Not\+Double\+Align@{Not\+Double\+Align}!smemory.\+c@{smemory.\+c}}
\subsubsection[{Not\+Double\+Align}]{\setlength{\rightskip}{0pt plus 5cm}\#define Not\+Double\+Align(
\begin{DoxyParamCaption}
\item[{}]{addr}
\end{DoxyParamCaption}
)~( (long int)addr \& 7 )}\label{smemory_8c_ac11b1c3847a3d397e9675de40782134d}
\hypertarget{smemory_8c_a7b2a35bfd2e6c9d03e2a6ccdba9fa847}{}\index{smemory.\+c@{smemory.\+c}!Reduce@{Reduce}}
\index{Reduce@{Reduce}!smemory.\+c@{smemory.\+c}}
\subsubsection[{Reduce}]{\setlength{\rightskip}{0pt plus 5cm}\#define Reduce(
\begin{DoxyParamCaption}
\item[{}]{alpha}
\end{DoxyParamCaption}
)~((alpha + 1) / 2)  /$\ast$ i.\+e. (alpha-\/1)/2 + 1 $\ast$/}\label{smemory_8c_a7b2a35bfd2e6c9d03e2a6ccdba9fa847}
\hypertarget{smemory_8c_a1ef4d4db4d5e1fe0719416163e0e51ae}{}\index{smemory.\+c@{smemory.\+c}!Stack\+Full@{Stack\+Full}}
\index{Stack\+Full@{Stack\+Full}!smemory.\+c@{smemory.\+c}}
\subsubsection[{Stack\+Full}]{\setlength{\rightskip}{0pt plus 5cm}\#define Stack\+Full(
\begin{DoxyParamCaption}
\item[{}]{{\bf x}}
\end{DoxyParamCaption}
)~( {\bf x} + Glu-\/$>$stack.\+used $>$= Glu-\/$>$stack.\+size )}\label{smemory_8c_a1ef4d4db4d5e1fe0719416163e0e51ae}
\hypertarget{smemory_8c_a70ca807c578a0c495f7ce5edb0215e2b}{}\index{smemory.\+c@{smemory.\+c}!Temp\+Space@{Temp\+Space}}
\index{Temp\+Space@{Temp\+Space}!smemory.\+c@{smemory.\+c}}
\subsubsection[{Temp\+Space}]{\setlength{\rightskip}{0pt plus 5cm}\#define Temp\+Space(
\begin{DoxyParamCaption}
\item[{}]{{\bf m}, }
\item[{}]{w}
\end{DoxyParamCaption}
)}\label{smemory_8c_a70ca807c578a0c495f7ce5edb0215e2b}
{\bfseries Value\+:}
\begin{DoxyCode}
( (2*\hyperlink{namespacewebbrowser_a3ea3a2acb0471880f104d018e68ae648}{w} + 4 + \hyperlink{slu__util_8h_a9b7b2a5116ee487722b0967317ab6360}{NO\_MARKER}) * \hyperlink{indexexpr_8h_ab72fdb4031d47b75ab26dd18a437bcdc}{m} * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) + \(\backslash\)
                  (\hyperlink{namespacewebbrowser_a3ea3a2acb0471880f104d018e68ae648}{w} + 1) * \hyperlink{indexexpr_8h_ab72fdb4031d47b75ab26dd18a437bcdc}{m} * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}) )
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{smemory_8c_a00d00daa40d07c16e3ae6bfd87c70e3d}{}\index{smemory.\+c@{smemory.\+c}!copy\+\_\+mem\+\_\+float@{copy\+\_\+mem\+\_\+float}}
\index{copy\+\_\+mem\+\_\+float@{copy\+\_\+mem\+\_\+float}!smemory.\+c@{smemory.\+c}}
\subsubsection[{copy\+\_\+mem\+\_\+float}]{\setlength{\rightskip}{0pt plus 5cm}void copy\+\_\+mem\+\_\+float (
\begin{DoxyParamCaption}
\item[{int}]{howmany, }
\item[{void $\ast$}]{old, }
\item[{void $\ast$}]{new}
\end{DoxyParamCaption}
)}\label{smemory_8c_a00d00daa40d07c16e3ae6bfd87c70e3d}
\hypertarget{smemory_8c_ab59eea34474da95fb3dc125400a1287e}{}\index{smemory.\+c@{smemory.\+c}!copy\+\_\+mem\+\_\+int@{copy\+\_\+mem\+\_\+int}}
\index{copy\+\_\+mem\+\_\+int@{copy\+\_\+mem\+\_\+int}!smemory.\+c@{smemory.\+c}}
\subsubsection[{copy\+\_\+mem\+\_\+int}]{\setlength{\rightskip}{0pt plus 5cm}void copy\+\_\+mem\+\_\+int (
\begin{DoxyParamCaption}
\item[{int}]{, }
\item[{void $\ast$}]{, }
\item[{void $\ast$}]{}
\end{DoxyParamCaption}
)}\label{smemory_8c_ab59eea34474da95fb3dc125400a1287e}
\hypertarget{smemory_8c_ab6dc7fd90a3d13e0c9a8ca8d62def27f}{}\index{smemory.\+c@{smemory.\+c}!float\+Calloc@{float\+Calloc}}
\index{float\+Calloc@{float\+Calloc}!smemory.\+c@{smemory.\+c}}
\subsubsection[{float\+Calloc}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$ float\+Calloc (
\begin{DoxyParamCaption}
\item[{int}]{n}
\end{DoxyParamCaption}
)}\label{smemory_8c_ab6dc7fd90a3d13e0c9a8ca8d62def27f}
\hypertarget{smemory_8c_a4a866452c5dcba66083ef463662955ee}{}\index{smemory.\+c@{smemory.\+c}!float\+Malloc@{float\+Malloc}}
\index{float\+Malloc@{float\+Malloc}!smemory.\+c@{smemory.\+c}}
\subsubsection[{float\+Malloc}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$ float\+Malloc (
\begin{DoxyParamCaption}
\item[{int}]{n}
\end{DoxyParamCaption}
)}\label{smemory_8c_a4a866452c5dcba66083ef463662955ee}
\hypertarget{smemory_8c_ae057d714a4952330de0572fa2785b068}{}\index{smemory.\+c@{smemory.\+c}!ilu\+\_\+s\+Query\+Space@{ilu\+\_\+s\+Query\+Space}}
\index{ilu\+\_\+s\+Query\+Space@{ilu\+\_\+s\+Query\+Space}!smemory.\+c@{smemory.\+c}}
\subsubsection[{ilu\+\_\+s\+Query\+Space}]{\setlength{\rightskip}{0pt plus 5cm}int ilu\+\_\+s\+Query\+Space (
\begin{DoxyParamCaption}
\item[{{\bf Super\+Matrix} $\ast$}]{L, }
\item[{{\bf Super\+Matrix} $\ast$}]{U, }
\item[{{\bf mem\+\_\+usage\+\_\+t} $\ast$}]{mem\+\_\+usage}
\end{DoxyParamCaption}
)}\label{smemory_8c_ae057d714a4952330de0572fa2785b068}

\begin{DoxyPre}
mem\_usage consists of the following fields:
\begin{DoxyItemize}
\item for\_lu (float)
     The amount of space used in bytes for the L data structures.
\item total\_needed (float)
     The amount of space needed in bytes to perform factorization.


\end{DoxyItemize}\end{DoxyPre}
\hypertarget{smemory_8c_a9754e5504550ae4ab763721ebcb7055b}{}\index{smemory.\+c@{smemory.\+c}!sallocate\+A@{sallocate\+A}}
\index{sallocate\+A@{sallocate\+A}!smemory.\+c@{smemory.\+c}}
\subsubsection[{sallocate\+A}]{\setlength{\rightskip}{0pt plus 5cm}void sallocate\+A (
\begin{DoxyParamCaption}
\item[{int}]{n, }
\item[{int}]{nnz, }
\item[{float $\ast$$\ast$}]{a, }
\item[{int $\ast$$\ast$}]{asub, }
\item[{int $\ast$$\ast$}]{xa}
\end{DoxyParamCaption}
)}\label{smemory_8c_a9754e5504550ae4ab763721ebcb7055b}


Allocate storage for original matrix \hyperlink{classA}{A}. 

\hypertarget{smemory_8c_aa2862f14356be7d9f12bfdfc175137a1}{}\index{smemory.\+c@{smemory.\+c}!sexpand@{sexpand}}
\index{sexpand@{sexpand}!smemory.\+c@{smemory.\+c}}
\subsubsection[{sexpand}]{\setlength{\rightskip}{0pt plus 5cm}void $\ast$ sexpand (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{prev\+\_\+len, }
\item[{{\bf Mem\+Type}}]{type, }
\item[{int}]{len\+\_\+to\+\_\+copy, }
\item[{int}]{keep\+\_\+prev, }
\item[{{\bf Global\+L\+U\+\_\+t} $\ast$}]{Glu}
\end{DoxyParamCaption}
)}\label{smemory_8c_aa2862f14356be7d9f12bfdfc175137a1}


Expand the existing storage to accommodate more fill-\/ins. 

\hypertarget{smemory_8c_aadb7d9338f2fd9700f84951708cd8064}{}\index{smemory.\+c@{smemory.\+c}!s\+L\+U\+Mem\+Init@{s\+L\+U\+Mem\+Init}}
\index{s\+L\+U\+Mem\+Init@{s\+L\+U\+Mem\+Init}!smemory.\+c@{smemory.\+c}}
\subsubsection[{s\+L\+U\+Mem\+Init}]{\setlength{\rightskip}{0pt plus 5cm}int s\+L\+U\+Mem\+Init (
\begin{DoxyParamCaption}
\item[{{\bf fact\+\_\+t}}]{fact, }
\item[{void $\ast$}]{work, }
\item[{int}]{lwork, }
\item[{int}]{m, }
\item[{int}]{n, }
\item[{int}]{annz, }
\item[{int}]{panel\+\_\+size, }
\item[{float}]{fill\+\_\+ratio, }
\item[{{\bf Super\+Matrix} $\ast$}]{L, }
\item[{{\bf Super\+Matrix} $\ast$}]{U, }
\item[{{\bf Global\+L\+U\+\_\+t} $\ast$}]{Glu, }
\item[{int $\ast$$\ast$}]{iwork, }
\item[{float $\ast$$\ast$}]{dwork}
\end{DoxyParamCaption}
)}\label{smemory_8c_aadb7d9338f2fd9700f84951708cd8064}


Allocate storage for the data structures common to all factor routines. 

Memory-\/related.


\begin{DoxyPre}
For those unpredictable size, estimate as fill\_ratio * nnz(A).
Return value:
    If lwork = -1, return the estimated amount of space required, plus n;
    otherwise, return the amount of space actually allocated when
    memory allocation failure occurred.
\end{DoxyPre}
 \hypertarget{smemory_8c_a80077f82e6d512e415519daed9dc3345}{}\index{smemory.\+c@{smemory.\+c}!s\+L\+U\+Mem\+Xpand@{s\+L\+U\+Mem\+Xpand}}
\index{s\+L\+U\+Mem\+Xpand@{s\+L\+U\+Mem\+Xpand}!smemory.\+c@{smemory.\+c}}
\subsubsection[{s\+L\+U\+Mem\+Xpand}]{\setlength{\rightskip}{0pt plus 5cm}int s\+L\+U\+Mem\+Xpand (
\begin{DoxyParamCaption}
\item[{int}]{jcol, }
\item[{int}]{next, }
\item[{{\bf Mem\+Type}}]{mem\+\_\+type, }
\item[{int $\ast$}]{maxlen, }
\item[{{\bf Global\+L\+U\+\_\+t} $\ast$}]{Glu}
\end{DoxyParamCaption}
)}\label{smemory_8c_a80077f82e6d512e415519daed9dc3345}


Expand the data structures for L and U during the factorization. 


\begin{DoxyPre}
Return value:   0 - successful return
              > 0 - number of bytes allocated when run out of space
\end{DoxyPre}
 \hypertarget{smemory_8c_a0e837042fa6f4b27eb2cbfc2f80387fa}{}\index{smemory.\+c@{smemory.\+c}!s\+L\+U\+Work\+Free@{s\+L\+U\+Work\+Free}}
\index{s\+L\+U\+Work\+Free@{s\+L\+U\+Work\+Free}!smemory.\+c@{smemory.\+c}}
\subsubsection[{s\+L\+U\+Work\+Free}]{\setlength{\rightskip}{0pt plus 5cm}void s\+L\+U\+Work\+Free (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{iwork, }
\item[{float $\ast$}]{dwork, }
\item[{{\bf Global\+L\+U\+\_\+t} $\ast$}]{Glu}
\end{DoxyParamCaption}
)}\label{smemory_8c_a0e837042fa6f4b27eb2cbfc2f80387fa}


Free the working storage used by factor routines. 

\hypertarget{smemory_8c_abc603ef3859778fb5631cf3d3b951de6}{}\index{smemory.\+c@{smemory.\+c}!s\+L\+U\+Work\+Init@{s\+L\+U\+Work\+Init}}
\index{s\+L\+U\+Work\+Init@{s\+L\+U\+Work\+Init}!smemory.\+c@{smemory.\+c}}
\subsubsection[{s\+L\+U\+Work\+Init}]{\setlength{\rightskip}{0pt plus 5cm}int s\+L\+U\+Work\+Init (
\begin{DoxyParamCaption}
\item[{int}]{m, }
\item[{int}]{n, }
\item[{int}]{panel\+\_\+size, }
\item[{int $\ast$$\ast$}]{iworkptr, }
\item[{float $\ast$$\ast$}]{dworkptr, }
\item[{{\bf Global\+L\+U\+\_\+t} $\ast$}]{Glu}
\end{DoxyParamCaption}
)}\label{smemory_8c_abc603ef3859778fb5631cf3d3b951de6}


Allocate known working storage. Returns 0 if success, otherwise returns the number of bytes allocated so far when failure occurred. 

\hypertarget{smemory_8c_a658f955c5532813bd0490502efae563f}{}\index{smemory.\+c@{smemory.\+c}!smemory\+\_\+usage@{smemory\+\_\+usage}}
\index{smemory\+\_\+usage@{smemory\+\_\+usage}!smemory.\+c@{smemory.\+c}}
\subsubsection[{smemory\+\_\+usage}]{\setlength{\rightskip}{0pt plus 5cm}int smemory\+\_\+usage (
\begin{DoxyParamCaption}
\item[{const int}]{nzlmax, }
\item[{const int}]{nzumax, }
\item[{const int}]{nzlumax, }
\item[{const int}]{n}
\end{DoxyParamCaption}
)}\label{smemory_8c_a658f955c5532813bd0490502efae563f}
\hypertarget{smemory_8c_ace83037d40e06fba28a0b787df4fbece}{}\index{smemory.\+c@{smemory.\+c}!s\+Query\+Space@{s\+Query\+Space}}
\index{s\+Query\+Space@{s\+Query\+Space}!smemory.\+c@{smemory.\+c}}
\subsubsection[{s\+Query\+Space}]{\setlength{\rightskip}{0pt plus 5cm}int s\+Query\+Space (
\begin{DoxyParamCaption}
\item[{{\bf Super\+Matrix} $\ast$}]{L, }
\item[{{\bf Super\+Matrix} $\ast$}]{U, }
\item[{{\bf mem\+\_\+usage\+\_\+t} $\ast$}]{mem\+\_\+usage}
\end{DoxyParamCaption}
)}\label{smemory_8c_ace83037d40e06fba28a0b787df4fbece}

\begin{DoxyPre}
mem\_usage consists of the following fields:
\begin{DoxyItemize}
\item for\_lu (float)
     The amount of space used in bytes for the L data structures.
\item total\_needed (float)
     The amount of space needed in bytes to perform factorization.


\end{DoxyItemize}\end{DoxyPre}
\hypertarget{smemory_8c_ada7e5387084d37939efddbcbf6a6eca1}{}\index{smemory.\+c@{smemory.\+c}!s\+Set\+R\+Work@{s\+Set\+R\+Work}}
\index{s\+Set\+R\+Work@{s\+Set\+R\+Work}!smemory.\+c@{smemory.\+c}}
\subsubsection[{s\+Set\+R\+Work}]{\setlength{\rightskip}{0pt plus 5cm}void s\+Set\+R\+Work (
\begin{DoxyParamCaption}
\item[{int}]{m, }
\item[{int}]{panel\+\_\+size, }
\item[{float $\ast$}]{dworkptr, }
\item[{float $\ast$$\ast$}]{dense, }
\item[{float $\ast$$\ast$}]{tempv}
\end{DoxyParamCaption}
)}\label{smemory_8c_ada7e5387084d37939efddbcbf6a6eca1}


Set up pointers for real working arrays. 

\hypertarget{smemory_8c_a146216d4543e94e7ec4783eada50bf4c}{}\index{smemory.\+c@{smemory.\+c}!s\+Setup\+Space@{s\+Setup\+Space}}
\index{s\+Setup\+Space@{s\+Setup\+Space}!smemory.\+c@{smemory.\+c}}
\subsubsection[{s\+Setup\+Space}]{\setlength{\rightskip}{0pt plus 5cm}void s\+Setup\+Space (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{work, }
\item[{int}]{lwork, }
\item[{{\bf Global\+L\+U\+\_\+t} $\ast$}]{Glu}
\end{DoxyParamCaption}
)}\label{smemory_8c_a146216d4543e94e7ec4783eada50bf4c}


Setup the memory model to be used for factorization. 

lwork = 0\+: use system malloc; lwork $>$ 0\+: use user-\/supplied work\mbox{[}\mbox{]} space. \hypertarget{smemory_8c_aabb6ccd3c62fa5284cd5de4fb4c7f533}{}\index{smemory.\+c@{smemory.\+c}!s\+Stack\+Compress@{s\+Stack\+Compress}}
\index{s\+Stack\+Compress@{s\+Stack\+Compress}!smemory.\+c@{smemory.\+c}}
\subsubsection[{s\+Stack\+Compress}]{\setlength{\rightskip}{0pt plus 5cm}void s\+Stack\+Compress (
\begin{DoxyParamCaption}
\item[{{\bf Global\+L\+U\+\_\+t} $\ast$}]{Glu}
\end{DoxyParamCaption}
)}\label{smemory_8c_aabb6ccd3c62fa5284cd5de4fb4c7f533}


Compress the work\mbox{[}\mbox{]} array to remove fragmentation. 

\hypertarget{smemory_8c_a29f7485dd32f85e996e16f2a199b002d}{}\index{smemory.\+c@{smemory.\+c}!suser\+\_\+free@{suser\+\_\+free}}
\index{suser\+\_\+free@{suser\+\_\+free}!smemory.\+c@{smemory.\+c}}
\subsubsection[{suser\+\_\+free}]{\setlength{\rightskip}{0pt plus 5cm}void suser\+\_\+free (
\begin{DoxyParamCaption}
\item[{int}]{bytes, }
\item[{int}]{which\+\_\+end, }
\item[{{\bf Global\+L\+U\+\_\+t} $\ast$}]{Glu}
\end{DoxyParamCaption}
)}\label{smemory_8c_a29f7485dd32f85e996e16f2a199b002d}
\hypertarget{smemory_8c_ad68adc1b6de3f821f9fb24cdcf24d281}{}\index{smemory.\+c@{smemory.\+c}!suser\+\_\+malloc@{suser\+\_\+malloc}}
\index{suser\+\_\+malloc@{suser\+\_\+malloc}!smemory.\+c@{smemory.\+c}}
\subsubsection[{suser\+\_\+malloc}]{\setlength{\rightskip}{0pt plus 5cm}void $\ast$ suser\+\_\+malloc (
\begin{DoxyParamCaption}
\item[{int}]{bytes, }
\item[{int}]{which\+\_\+end, }
\item[{{\bf Global\+L\+U\+\_\+t} $\ast$}]{Glu}
\end{DoxyParamCaption}
)}\label{smemory_8c_ad68adc1b6de3f821f9fb24cdcf24d281}
\hypertarget{smemory_8c_a4c226087c09a94ff40b92b14fa46fc53}{}\index{smemory.\+c@{smemory.\+c}!user\+\_\+bcopy@{user\+\_\+bcopy}}
\index{user\+\_\+bcopy@{user\+\_\+bcopy}!smemory.\+c@{smemory.\+c}}
\subsubsection[{user\+\_\+bcopy}]{\setlength{\rightskip}{0pt plus 5cm}void user\+\_\+bcopy (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{, }
\item[{char $\ast$}]{, }
\item[{int}]{}
\end{DoxyParamCaption}
)}\label{smemory_8c_a4c226087c09a94ff40b92b14fa46fc53}
